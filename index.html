async function superFetch() {
    const uid = document.getElementById('uidInput').value.trim();
    const region = document.getElementById('region').value;
    const btn = document.getElementById('mainBtn');
    const resBox = document.getElementById('resultBox');

    if(!uid) return alert("Bhai, UID to likho!");

    btn.innerText = "BYPASSING OB51...";
    btn.disabled = true;

    // Ye wo endpoints hain jo Topup sites piche use karti hain
    const apiPool = [
        `https://free-ff-api-src-5plp.onrender.com/api/v1/account?region=${region}&uid=${uid}`,
        `https://ff-api-p7v7.onrender.com/api/v1/account?region=${region}&uid=${uid}`
    ];

    // Hum do alag proxies use karenge agar aik fail ho jaye
    const proxies = [
        "https://api.allorigins.win/get?url=",
        "https://corsproxy.io/?"
    ];

    let success = false;

    for (let proxy of proxies) {
        for (let apiUrl of apiPool) {
            try {
                const finalUrl = proxy + encodeURIComponent(apiUrl);
                const response = await fetch(finalUrl);
                const rawData = await response.json();
                
                // Proxy data handle karna
                const data = rawData.contents ? JSON.parse(rawData.contents) : rawData;

                if (data && data.basicInfo) {
                    document.getElementById('resName').innerText = data.basicInfo.nickname;
                    document.getElementById('resLevel').innerText = data.basicInfo.level;
                    resBox.classList.remove('hidden');
                    success = true;
                    break;
                }
            } catch (e) {
                console.log("Retrying with backup bridge...");
            }
        }
        if(success) break;
    }

    if(!success) {
        alert("Topup.pk ki security high hai! Main mazeed APIs dhoond raha hoon jo OB51 ko support karein.");
    }

    btn.innerText = "RUN MULTI-API SCAN";
    btn.disabled = false;
}

