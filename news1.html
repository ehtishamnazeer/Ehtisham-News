<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <title>EHTISHAM NEWS PRO</title>
    
    <style>
        /* Force CSS Update with !important */
        :root { --gold: #c9a23f; --bg: #ffffff; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: sans-serif; background: #fff; color: #000; }

        /* HEADER SYMBOLS FIX */
        .header-fixed { 
            display: flex !important; 
            justify-content: space-between !important; 
            align-items: center !important; 
            padding: 15px 20px !important; 
            background: #fff !important; 
            border-bottom: 4px solid var(--gold) !important;
            position: sticky; top: 0; z-index: 99999;
        }
        .icon-group { display: flex !important; gap: 12px !important; }
        .symbol-btn { 
            width: 45px; height: 45px; background: #f0f0f0; 
            border: 1px solid #ddd; border-radius: 12px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 1.3rem; cursor: pointer;
        }

        /* NEW CARD DESIGN */
        .news-card-v11 { 
            background: #fff; border: 2px solid #eee; border-radius: 25px; 
            margin: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }
        .card-img { width: 100%; height: 210px; object-fit: cover; }
        .card-info { padding: 22px; }
        
        /* READ MORE - BIG BLACK BUTTON */
        .btn-open { 
            display: block !important; width: 100% !important; 
            padding: 18px !important; background: #000 !important; 
            color: #fff !important; border-radius: 15px !important; 
            font-weight: 900 !important; text-align: center !important;
            text-transform: uppercase !important; margin-top: 20px !important;
            cursor: pointer !important; text-decoration: none !important;
            font-size: 1rem;
        }

        /* MODAL ARTICLE */
        #fullArticle { position: fixed; inset: 0; background: #fff; z-index: 100000; display: none; overflow-y: auto; }
        .top-close { background: #000; color: #fff; padding: 18px; text-align: center; font-weight: 900; cursor: pointer; }
        .page-div { display: none; }
    </style>
</head>
<body>

    <div class="header-fixed">
        <div style="font-weight:900; font-size:1.2rem; letter-spacing:1px;">E.NEWS</div>
        <div class="icon-group">
            <div class="symbol-btn" onclick="alert('üîî Notifications Active!')">üîî</div>
            <div class="symbol-btn" onclick="alert('üì≤ Click Browser Menu > Add to Home Screen')">üì≤</div>
        </div>
    </div>

    <div id="home" class="page-div" style="display:block; padding: 20px;">
        <h2 style="margin-bottom:20px; text-align:center;">SELECT SECTOR</h2>
        <div onclick="openFeed('gaming')" style="padding:25px; background:#f8f9fa; border-radius:20px; margin-bottom:15px; border:1px solid #eee; cursor:pointer; display:flex; gap:15px; align-items:center;">
            <span style="font-size:1.5rem;">üéÆ</span> <h3>Gaming Feed</h3>
        </div>
        <div onclick="openFeed('community')" style="padding:25px; background:#f8f9fa; border-radius:20px; margin-bottom:15px; border:1px solid #eee; cursor:pointer; display:flex; gap:15px; align-items:center;">
            <span style="font-size:1.5rem;">üë•</span> <h3>Community Hub</h3>
        </div>
        <div onclick="openFeed('esports')" style="padding:25px; background:#f8f9fa; border-radius:20px; margin-bottom:15px; border:1px solid #eee; cursor:pointer; display:flex; gap:15px; align-items:center;">
            <span style="font-size:1.5rem;">üèÜ</span> <h3>Esports Sector</h3>
        </div>
    </div>

    <div id="feed" class="page-div">
        <div id="contentBox"></div>
        <div style="padding: 0 20px 40px;"><button onclick="location.reload()" style="width:100%; padding:20px; border:none; background:#eee; border-radius:15px; font-weight:900;">‚Üê BACK</button></div>
    </div>

    <div id="fullArticle">
        <div class="top-close" onclick="closeDoc()">CLOSE ARTICLE ‚úñ</div>
        <div id="modalBody" style="padding:25px;"></div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <script>
        // Init Firebase
        const cfg = { apiKey: "AIzaSyC9Cfh60ZyeZTbhK45a_sKWBFCy8DrqDao", authDomain: "ehtisham-news.firebaseapp.com", projectId: "ehtisham-news" };
        firebase.initializeApp(cfg);
        const store = firebase.firestore();

        function openFeed(c) {
            document.getElementById('home').style.display='none';
            document.getElementById('feed').style.display='block';
            
            store.collection("news").where("category","==",c).orderBy("date","desc").onSnapshot(snap => {
                let cards = "";
                snap.forEach(doc => {
                    const data = doc.data();
                    cards += `
                    <div class="news-card-v11">
                        <img src="${data.imgTop}" class="card-img">
                        <div class="card-info">
                            <h3 style="font-size:1.3rem;">${data.title}</h3>
                            <div class="btn-open" onclick="readFull(\`${data.title}\`,\`${data.content}\`,'${data.imgTop}','${data.imgMid}')">READ FULL ARTICLE</div>
                        </div>
                    </div>`;
                });
                document.getElementById('contentBox').innerHTML = cards || "<p style='text-align:center; padding:50px;'>Syncing...</p>";
            });
        }

        function readFull(t, c, i1, i2) {
            document.getElementById('modalBody').innerHTML = `
                <img src="${i1}" style="width:100%; border-radius:15px;">
                <h2 style="margin:20px 0;">${t}</h2>
                <p style="line-height:1.7; white-space:pre-wrap; font-size:1.1rem;">${c}</p>
                ${i2 ? `<img src="${i2}" style="width:100%; border-radius:15px; margin-top:20px;">` : ''}
            `;
            document.getElementById('fullArticle').style.display='block';
            document.body.style.overflow = 'hidden';
        }

        function closeDoc() { document.getElementById('fullArticle').style.display='none'; document.body.style.overflow = 'auto'; }
    </script>
</body>
</html>
